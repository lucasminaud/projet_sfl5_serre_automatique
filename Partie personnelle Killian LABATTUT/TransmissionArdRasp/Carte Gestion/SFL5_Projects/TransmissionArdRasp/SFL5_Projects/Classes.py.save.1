#!/usr/bin/python3.4
# coding: utf-8
#Programme : Librairies et classes


import time
import serial
import mysql.connector 
ser = serial.Serial('/dev/ttyACM0',9600)

class CAPTEUR:

    idCap = 0
    capVal = 0
    perAcquisition = 0
    def __init__(self, perAcquisition, idCap):
	
	perAcquisition = 

    def recevoirDonnées(self):
	mesrecu = ser.readline()
	return mesrecu  

class BDD:
    
    def __init__(self,hote,utilisateur,motDePasse,base):
        
        self.connexionBDD = mysql.connector.connect(host=hote,\
                                       user=utilisateur,\
                                       password=motDePasse,\
                                       database=base)

    def insererReleve(self, capVal, idCap):
        
        #inserer un releve dans la base de donnees
        #3 arguments : id du capteur valeur du capteur
        
        curseur = self.connexionBDD.cursor()
        curseur.execute("    def definirPerAcquisition(self)
INSERT INTO `Releve` (`Valeur`,`Date`,`Capteur_id`) VALUES (%s,NOW(),%s)"%(capVal,idCap))
        self.connexionBDD.commit()
        curseur.close()
    def insererEtatCapteurPeriodeAcquisition(self, idCap, etat, perAcquisition):

        #inserer etat et période d'acquistion du capteur dans la base donnees
        #3 arguments : idcapteur etat et periode
        
        curseur = self.connexionBDD.cursor()
        curseur.execute("UPDATE `Capteur` SET `Etat_capteur`= %s,`Periode_Acquisition`= %s WHERE `id`=%s"%(etat,perAcquisition,idCap))
        self.connexionBDD.commit()
        curseur.close()

